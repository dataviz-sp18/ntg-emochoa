---
title: 'Accio Title!'
author: 'Erin M. Ochoa'
date: '2018 May 29'
output: 
  flexdashboard::flex_dashboard:
    orientation: columns
    vertical_layout: fill
    theme: flatly
---

```{r setup, include=FALSE}
library(hash)
library(stringr)
library(SnowballC)
library(stopwords)
library(textclean)
library(wordcloud2)
library(harrypotter)
library(flexdashboard)
```


```{r define_funks}
clean_book <- function(book){
    local_book <- book
    local_book <- str_to_lower(local_book)
    #local_book <- replace_contraction(local_book)
    local_book <- gsub("'s",'',local_book)
    #local_book <- gsub('[[:punct:] ]+',' ',local_book)
    local_book_list <- unlist(str_split(local_book, boundary('word')))
    s.words <- stopwords()
    local_book_dammit <- local_book_list[!(local_book_list)%in%stopwords()]
    
    # Remove contractions
    # Remove punctuation
    # Remove plurals
    # Split into string
    # Remove stopwords
    # Return list of words
}
```

```{r clean_text}
books <- c(philosophers_stone,
           chamber_of_secrets,
           prisoner_of_azkaban,
           goblet_of_fire,
           order_of_the_phoenix,
           half_blood_prince,
           deathly_hallows)


clean.ps <- clean_book(books[1])

clean.ps
```




```{r make_dicto}
dicto <- function(clean_book){
  dicto <- hash()
  for(i in 1:length(clean_book)){
    word <- clean_book[i]
    if(is.null(dicto[[as.character(eval(word))]])){
      
    }
  }
}
```




#```{r make_dicto}
pairwise_distances_full_map = function(df){
  #------------------------------------------------------------------------------------------------------------------------
  # Take pairwise n-dimensional Euclidean distances between all observations AND STORE THEM in a dictionary of dictionaries
  #------------------------------------------------------------------------------------------------------------------------
  len = nrow(df)
  outerDicto = hash()
  i = 1
  # Create a hashtable with the pairwise distances for that polygon and all the polygons numbered higher than it
  while(i < len){
    pol1 = df[i, ]
    localDicto = hash()
    j = i + 1
    while(j <= len){
      pol2 = df[j, ]
      distance = dist(rbind(pol1,pol2))
      .set(localDicto, keys = j, values = distance[1])
      j = j + 1
    }
    .set(outerDicto, keys = i, values = localDicto)
    i = i + 1
  }
  outerDicto
}



distance = dicto[[as.character(eval(pol1))]][[as.character(eval(pol2))]]
#```